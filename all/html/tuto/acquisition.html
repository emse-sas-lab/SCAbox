

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>#3 - Use SCAbox &mdash; SCAbox 1.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="#4 - Build your Own Designs" href="create.html" />
    <link rel="prev" title="#2 - Install SCAbox" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SCAbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="home.html">Home</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="home.html#tutorials">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="download.html">#0 - Download SCAbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="test.html">#1 - Run the Pre-Built Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">#2 - Install SCAbox</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">#3 - Use SCAbox</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#goals">Goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simple-acquisition">1. Simple acquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cropped-acquisition">2. Cropped acquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#crypto-algorithm-acquisition">3. Crypto-algorithm acquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#iterated-acquisition">4. Iterated acquisition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="create.html">#4 - Build your Own Designs</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Wiki</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../wiki/home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wiki/home.html#contents">Contents</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SCAbox</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="home.html">Home</a> &raquo;</li>
        
      <li>#3 - Use SCAbox</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tuto/acquisition.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="use-scabox">
<h1>#3 - Use SCAbox<a class="headerlink" href="#use-scabox" title="Permalink to this headline">¶</a></h1>
<div class="section" id="goals">
<h2>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<p>This tutorial exposes the power leakage acquisition configurations available in the demonstration. We use the project built in <a class="reference external" href="installation.html">Tuto #2</a> to conduct the acquistions.</p>
<p>This tutorial will help you in performing acquisition with a serial command:</p>
<ol class="arabic simple">
<li><p>Simple acquisition</p></li>
<li><p>Cropped acquisition</p></li>
<li><p>Crypto-algorithm acquisition</p></li>
<li><p>Iterated acquisition</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>To denote the value given to an option we will always use the letter designing the option. eg. <code class="docutils literal notranslate"><span class="pre">-s</span></code> will be <span class="math notranslate nohighlight">\(s\)</span></p></li>
<li><p>If you want to learn more about the commands available in the demo you can displayed the help by typing <code class="docutils literal notranslate"><span class="pre">man</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Have completed the <a class="reference external" href="installation.html">Tuto #2</a></p></li>
</ul>
</div>
<div class="section" id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<p>The tutorial starts here !</p>
<div class="section" id="simple-acquisition">
<h3>1. Simple acquisition<a class="headerlink" href="#simple-acquisition" title="Permalink to this headline">¶</a></h3>
<p>A simple acquisition consists in acquiring the sensor state and storing it into the storage FIFO. The hardware repeats this operation until the FIFO is full.</p>
<p>The latter is then read by the C program and the acquired values are exported through UART.</p>
<p>To perform a simple acquisition type the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; fifo -a
</pre></div>
</div>
<p>If the command executed successfully you should have an output similar to the one below in your serial terminal:</p>
<a class="reference internal image-reference" href="../_images/testfifo.png"><img alt="FIFO output simple" class="align-center" src="../_images/testfifo.png" style="width: 400px;" /></a>
<p>if you want the sensor output to be printed in number instead of char code use the option verbose <code class="docutils literal notranslate"><span class="pre">-v</span></code> :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; fifo -a -v
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command prints all the FIFO content. The default SCAbox FIFO depth is <strong>8192</strong>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With sensors running &#64;200 Mhz we can monitor the leakage for a duration of 40µs. You can increase the FIFO depth and reduce the sensor sampling frequency to increase the acquisition duration.</p>
</div>
</div>
<div class="section" id="cropped-acquisition">
<h3>2. Cropped acquisition<a class="headerlink" href="#cropped-acquisition" title="Permalink to this headline">¶</a></h3>
<p>A cropped acquisition is a simple acquisition where the data is cropped at its start and end.
The resulting data will contain <span class="math notranslate nohighlight">\(e - s\)</span> samples excluding the e-th one.</p>
<p>To perform a cropped acquisition type the following command</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; fifo -a -s <span class="o">[</span>start<span class="o">]</span> -e <span class="o">[</span>end<span class="o">]</span>
</pre></div>
</div>
<p>If the command executed successfully you should have an output similar to bellow in your terminal emulator :</p>
<a class="reference internal image-reference" href="../_images/testfifocropped.png"><img alt="FIFO output cropped" class="align-center" src="../_images/testfifocropped.png" style="width: 400px;" /></a>
</div>
<div class="section" id="crypto-algorithm-acquisition">
<h3>3. Crypto-algorithm acquisition<a class="headerlink" href="#crypto-algorithm-acquisition" title="Permalink to this headline">¶</a></h3>
<p>A crypto-algorithm acquisition consists in acquiring the sensor state  during a cryptographic computation and storing these values into the FIFO.
The FIFO is then read by the demo and the acquired values are sent via UART.</p>
<p>To acquire a simple run of crypto-algorithm for instance a simple AES encryption.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; aes -m <span class="o">[</span>mode<span class="o">]</span> -d <span class="o">[</span>data<span class="o">]</span> -k <span class="o">[</span>key<span class="o">]</span>
</pre></div>
</div>
<p>In this demo, the <strong>mode</strong> argument can be either:
- <code class="docutils literal notranslate"><span class="pre">hw</span></code> for VHDL hardware AES
- <code class="docutils literal notranslate"><span class="pre">tiny</span></code> for C tiny AES
- <code class="docutils literal notranslate"><span class="pre">ssl</span></code> for C OpenSSL AES
- <code class="docutils literal notranslate"><span class="pre">dhuertas</span></code> for C dhuertas AES</p>
<p>The <strong>data</strong> argument is the plaintext in hexadecimal.
The <strong>key</strong> argument is the secret key in hexadecimal.</p>
<p>For instance, type the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; aes -m hw -d 00112233445566778899aabbccddeeff -k 000102030405060708090a0b0c0d0e0f
</pre></div>
</div>
<p>If the command executed successfully you should have an output similar to bellow in your terminal emulator :</p>
<a class="reference internal image-reference" href="../_images/testaes.png"><img alt="AES output" class="align-center" src="../_images/testaes.png" style="width: 400px;" /></a>
<p>Note that no sensor value is displayed but the FIFO has effectively been filled. To retrieve the acquired values, you must read the FIFO :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; fifo
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/testaesfifo.png"><img alt="AES output" class="align-center" src="../_images/testaesfifo.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As you can see in the above picture, some Ascii caracters cannot be displayed properly using the PuTTY interface. However, they will be correctly saved in a log file.</p>
</div>
<p><strong>You can perform a cropped acquisition of crypto-algorithm:</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; aes -m <span class="o">[</span>mode<span class="o">]</span> -d <span class="o">[</span>data<span class="o">]</span> -k <span class="o">[</span>key<span class="o">]</span> -e <span class="o">[</span>end<span class="o">]</span>
</pre></div>
</div>
<p>This way the hardware will stop to fill the FIFO once <span class="math notranslate nohighlight">\(e\)</span> values are acquired.
You can similarly retrieve the acquired values :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; fifo <span class="o">[</span>-v<span class="o">]</span> -s <span class="o">[</span>start<span class="o">]</span> -e <span class="o">[</span>end<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="iterated-acquisition">
<h3>4. Iterated acquisition<a class="headerlink" href="#iterated-acquisition" title="Permalink to this headline">¶</a></h3>
<p>In order to perform multiple crypto-algorithms runs and capture their leakage, the demo provide a simple command that will iterate the crypto-algorithm acquisition :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&gt; sca  -m <span class="o">[</span>mode<span class="o">]</span> -t <span class="o">[</span>iterations<span class="o">]</span> -s <span class="o">[</span>start<span class="o">]</span> -e <span class="o">[</span>end<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span>
</pre></div>
</div>
<p>This command will run cryptographic computation using random data and read the FIFO at once.
This process is repeated <span class="math notranslate nohighlight">\(t\)</span> times.</p>
<p>If the command executed correctly you should see the following output :</p>
<a class="reference internal image-reference" href="../_images/testsca.png"><img alt="SCA output" class="align-center" src="../_images/testsca.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial you learned how to launch sensor’s power leakage acquisition during a cryptographic encryption.
You learned how to iterate this acquisition and how to crop the power leakage.</p>
<p>Keep in mind that the SCA automation python tool presented in <a class="reference external" href="test.html">Tuto #1</a> provides a powerful way to capture leakage and transmit it via UART using our protocol. It allows to capture enough traces, that can be crop to diminish acquisition time, in order to perform a successful attack.</p>
<p>You can customize the demo-application to change any functionally to better meet your needs. For example you can change the analyzed crypto-algorithm or the random generation of encryption data. To do this follow the <a class="reference external" href="create.html">Tuto #4</a>.</p>
<p>Click <strong>Next</strong> to start the <a class="reference external" href="create.html">Tuto #4</a>: Build your Own Designs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="create.html" class="btn btn-neutral float-right" title="#4 - Build your Own Designs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="#2 - Install SCAbox" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Anonymous.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>